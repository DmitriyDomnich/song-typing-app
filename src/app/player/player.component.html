<div class="row">
  <div class="col-3 mx-auto position-relative">
    <div
      id="cover"
      class="ratio ratio-1x1 shadow"
      [style.background-image]="song.cover | backgroundImage"
    ></div>
    <div id="volume" class="col-1 d-flex">
      <i class="bi bi-volume-up-fill"></i>
      <input
        (input)="audio.volume = $any($event.target).value / 10"
        type="range"
        [value]="5"
        [min]="0"
        [max]="10"
        [step]="0.5"
        class="form-range w-auto"
        aria-orientation="vertical"
      />
    </div>
  </div>
  <!-- <button (click)="onExit.emit()" class="btn-close" aria-label="Close"></button> -->
</div>
<div class="d-flex align-items-center flex-column">
  <div class="p-2 pb-0">
    <h2>{{ song.name }}</h2>
  </div>
  <div class="p-2 pb-0">
    <h3>{{ song.artist }}</h3>
  </div>
  <input
    #progressInput
    id="progress"
    (input)="onInputProgress($any($event))"
    (change)="audio.currentTime = $any($event.target).value"
    class="d-block col-3 rounded-pill"
    type="range"
    min="0"
    [max]="audio.duration"
    [style.background-image]="progress$ | async"
    value="0"
  />
  <div class="col-3 d-flex justify-content-around">
    <button
      (click)="audio.play()"
      class="btn btn-outline-primary"
      *ngIf="audio.paused; else running"
    >
      <i class="bi bi-play-circle"></i>
    </button>
    <ng-template #running>
      <button (click)="audio.pause()" class="btn btn-outline-primary">
        <i class="bi bi-pause-circle"></i>
      </button>
    </ng-template>
    <button
      type="button"
      [class.active]="audio.loop"
      (click)="audio.loop = !this.audio.loop"
      class="btn btn-outline-secondary"
    >
      <i class="bi bi-arrow-repeat"></i>
    </button>
  </div>
</div>
